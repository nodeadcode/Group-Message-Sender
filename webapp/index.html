<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Spinify Ads - Smart Telegram Scheduler</title>

  <!-- SEO Meta Tags -->
  <meta name="description"
    content="Smart Telegram Ad Scheduler - Automate your Telegram group messaging with Spinify Ads">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">

  <!-- Telegram WebApp SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <link rel="stylesheet" href="style.css">
</head>

<body>

  <div class="background-gradient"></div>
  <div class="background-blur"></div>

  <div class="app">

    <!-- Header with animated logo -->
    <header>
      <div class="logo-container">
        <div class="logo-spin">‚ú®</div>
        <h1>Spinify Ads</h1>
      </div>
      <p class="subtitle">Smart Telegram Ad Scheduler</p>
      <div class="progress-bar">
        <div class="progress-fill" id="progress-fill"></div>
      </div>
      <p class="step-indicator" id="step-indicator">Step 1 of 5</p>
    </header>

    <!-- Access Control Banner -->
    <div class="access-banner" id="access-banner" style="display:none;">
      <div class="access-banner-content">
        <div class="access-icon">üîí</div>
        <div class="access-text">
          <h3>Access Required</h3>
          <p id="access-status-text">Waiting for approval from @spinify</p>
        </div>
        <button class="btn-access" id="request-access-btn" onclick="requestAccess()">Request Access</button>
      </div>
    </div>

    <!-- Main Card Container -->
    <div class="card-container" id="main-app" style="display:none;">
      <div class="card" id="step-container">

        <!-- STEP 1: API Credentials -->
        <section class="step active" id="step-1" data-step="1">
          <div class="step-icon">üîê</div>
          <h2>API Credentials</h2>
          <p class="step-description">Enter your Telegram API credentials to get started</p>

          <div class="form-group">
            <label for="api_id">API ID</label>
            <input type="number" id="api_id" placeholder="Enter your API ID" autocomplete="off">
            <span class="error-message" id="api_id_error"></span>
          </div>

          <div class="form-group">
            <label for="api_hash">API Hash</label>
            <input type="text" id="api_hash" placeholder="Enter your API Hash" autocomplete="off">
            <span class="error-message" id="api_hash_error"></span>
          </div>

          <div class="help-text">
            <p>üí° Don't have API credentials? <a href="https://my.telegram.org/apps" target="_blank">Get them here</a>
            </p>
          </div>

          <button class="btn-primary" onclick="validateAndGoToStep(2)">
            Continue
            <span class="btn-arrow">‚Üí</span>
          </button>
        </section>

        <!-- STEP 2: Telegram Login -->
        <section class="step" id="step-2" data-step="2">
          <div class="step-icon">üì≤</div>
          <h2>Telegram Authentication</h2>
          <p class="step-description">Verify your phone number to access your account</p>

          <div class="form-group">
            <label for="phone">Phone Number</label>
            <input type="tel" id="phone" placeholder="+1234567890" autocomplete="tel">
            <span class="error-message" id="phone_error"></span>
          </div>

          <div class="form-group" id="otp-group" style="display:none;">
            <label for="otp">OTP Code</label>
            <input type="text" id="otp" placeholder="Enter 6-digit code" maxlength="6" autocomplete="one-time-code">
            <span class="error-message" id="otp_error"></span>
          </div>

          <div class="button-group">
            <button class="btn-secondary" onclick="goToStep(1)">
              ‚Üê Back
            </button>
            <button class="btn-primary" id="verify-btn" onclick="sendOTP()">
              Send OTP
              <span class="btn-arrow">‚Üí</span>
            </button>
          </div>
        </section>

        <!-- STEP 3: Add Groups -->
        <section class="step" id="step-3" data-step="3">
          <div class="step-icon">üë•</div>
          <h2>Add Telegram Groups</h2>
          <p class="step-description">Add up to 10 groups where you want to post ads</p>

          <div class="form-group">
            <label for="groups">Group Links (Max 10)</label>
            <textarea id="groups"
              placeholder="Paste group links here, one per line&#10;Example:&#10;https://t.me/group1&#10;https://t.me/group2"
              rows="6"></textarea>
            <span class="error-message" id="groups_error"></span>
          </div>

          <div class="help-text">
            <p>‚ö†Ô∏è You must already be a member of these groups</p>
          </div>

          <div class="button-group">
            <button class="btn-secondary" onclick="goToStep(2)">
              ‚Üê Back
            </button>
            <button class="btn-primary" onclick="validateGroups()">
              Verify Groups
              <span class="btn-arrow">‚Üí</span>
            </button>
          </div>
        </section>

        <!-- STEP 4: Saved Ads -->
        <section class="step" id="step-4" data-step="4">
          <div class="step-icon">üìù</div>
          <h2>Create Ad Messages</h2>
          <p class="step-description">Write and save your advertisement messages</p>

          <div class="form-group">
            <label for="message">Message Content</label>
            <textarea id="message" placeholder="Write your ad message here..." rows="4"></textarea>
            <span class="error-message" id="message_error"></span>
          </div>

          <button class="btn-add" onclick="addMessage()">
            + Add Message
          </button>

          <div class="message-list" id="messageList"></div>

          <div class="button-group">
            <button class="btn-secondary" onclick="goToStep(3)">
              ‚Üê Back
            </button>
            <button class="btn-primary" onclick="validateMessages()">
              Continue
              <span class="btn-arrow">‚Üí</span>
            </button>
          </div>
        </section>

        <!-- STEP 5: Scheduler -->
        <section class="step" id="step-5" data-step="5">
          <div class="step-icon">üöÄ</div>
          <h2>Schedule Your Ads</h2>
          <p class="step-description">Configure and start your ad campaign</p>

          <div class="scheduler-info">
            <div class="info-card">
              <div class="info-icon">‚è±Ô∏è</div>
              <div class="info-content">
                <h3>Group Delay</h3>
                <p class="info-value">60 seconds</p>
                <span class="info-label">Between each group</span>
              </div>
            </div>

            <div class="info-card">
              <div class="info-icon">‚è≥</div>
              <div class="info-content">
                <h3>Message Delay</h3>
                <p class="info-value">60 seconds</p>
                <span class="info-label">Between each message</span>
              </div>
            </div>
          </div>

          <!-- Campaign Configuration -->
          <div class="campaign-config">
            <div class="form-group">
              <label for="interval-selector">Campaign Interval</label>
              <select id="interval-selector" onchange="updateInterval()">
                <option value="20">Every 20 minutes</option>
                <option value="30">Every 30 minutes</option>
                <option value="45">Every 45 minutes</option>
                <option value="60" selected>Every 1 hour</option>
                <option value="90">Every 1.5 hours</option>
                <option value="120">Every 2 hours</option>
                <option value="180">Every 3 hours</option>
                <option value="240">Every 4 hours</option>
              </select>
            </div>

            <div class="form-group">
              <label class="night-mode-label">
                <span>Auto Night Mode</span>
                <span class="night-mode-time">(10 PM - 6 AM)</span>
              </label>
              <div class="toggle-container">
                <label class="toggle-switch">
                  <input type="checkbox" id="night-mode-toggle" onchange="toggleNightMode()">
                  <span class="toggle-slider"></span>
                </label>
                <span class="toggle-status" id="night-mode-status">Disabled</span>
              </div>
              <p class="help-text-small">Campaign will pause during night hours when enabled</p>
            </div>
          </div>

          <div class="status-container" id="status-container">
            <div class="status-message" id="status-message">Ready to start</div>
          </div>

          <div class="button-group vertical">
            <button class="btn-start" id="start-btn" onclick="startScheduler()">
              <span class="btn-icon">‚ñ∂</span>
              Start Campaign
            </button>
            <button class="btn-stop" id="stop-btn" onclick="stopScheduler()" disabled>
              <span class="btn-icon">‚èπ</span>
              Stop Campaign
            </button>
            <button class="btn-secondary" onclick="goToStep(4)">
              ‚Üê Back to Messages
            </button>
          </div>
        </section>

      </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

  </div>

  <script src="app.js"></script>
</body>

</html>